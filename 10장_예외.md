- [아이템69](#아이템69)
- [아이템70](#아이템70)
- [아이템71](#아이템71)
- [아이템72](#아이템72)
- [아이템73](#아이템73)
- [아이템74](#아이템74)

## 아이템69
**민트**: 387 페이지에 따르면, `코드를 try-catch 블록 안에 넣으면 JVM이 적용할 수 있는 최적화가 제한된다.`고 말합니다.
try-catch 문 안의 코드는 왜 JVM의 최적화가 제한될까요?

**테오**: 이해한 바에 따르면, 예외는 가능한 발생하지 않는 편이 성능에 좋습니다(= try-catch 블록이 없는 것이 좋음).
그러면 우리가 미션에서 접하는 예외는 정말 예외 상황일까요? 재입력을 받는 것 까지 시스템의 일부라고 볼 수 있지 않을까요?
그렇다면 책에서 명시한 대로 Optional과 상태 검사 메서드를 조합해 예외를 전혀 사용하지 않을 수도 있지 않을까요?
  - **깃짱**: 사용자의 잘못된 입력에 대해 처리하는 표준 예외 `IllegalArgumentException`이 있는데, 가짜 에외는 아닐 것 같아요! `책에서 명시한 대로 Optional과 상태 검사 메서드를 조합해 예외를 전혀 사용하지 않을 수도 있지 않을까` 이 부분은 가능할 것 같아요! 테오가 한번 자동차 경주 미션을 그렇게 리팩토링 해주시겠어요?!?!?!!?!?! 

**깃짱**: 저는 한번도 예외를 흐름 제어용으로 쓴 적이 없는데, 한 적도 없는걸 너무 강하게 하지 말라고 말하니 더 오기가 생기는 것 같아요ㅠ

**헙크**: 제가 이해한 바로는, 예외를 흐름 제어용으로 쓰지 말라는 말은 `if`문이나 반복문의 `break` 등을 사용하기 싫어서 일부러 예외를 발생시키고, 이를 `catch`하여 코드의 전체적인 흐름을 제어하는 일을 하지 말라는 것 같습니다.

**쥬니**: 책에서 '성능이 중요한 상황에서 상태 검사 메서드가 상태 의존적 메서드의 작업 일부를 중복 수행한다면 옵셔널이나 특정 값을 선택한다. 라는 문장이 있는데요.
상태 검사 메서드가 상태 의존적 메서드의 작업을 중복 수행하는 경우가 있을까요 ?

## 아이템70

**깃짱**: 저는 호출하는 쪽에서 복구할 수 있는 상황이면 Compiletime Exception, 아니면 Runtime Exception을 던지라고 이해했습니다. 사실 이거에 대한 구분은 잘 가지 않아서 당분간은_ 확실하지 않다면 Runtime Exception을 사용해라_만 지킬 것 같아요 ㅎㅎ...

**헙크**: 예를들어 사용자가 웹 사이트에 로그인한다고 가정했을 때, 지문 인식을 한다고 가정해봅시다. 지문인식이 실패하면 비즈니스적으로 세 번 다시 시도할 수 있다고 해봅시다. 이처럼 비즈니스적으로 실패가 예견되어 있고, 애플리케이션 실행 중에 실패를 정확히 잡아 다시 시도할 수 있도록 하는 상황이라면 check exception을 사용합니다. 반면에 로그인을 처리하는 과정에서 DB에 SQL문을 날렸는데 개발자가 `String sql = "select allll from User where userId=?"`로 잘못 코딩했다 칩시다. 이런 상황이라면 개발자가 `allll`을 바꾸지 않는 이상 애플리케이션 실행 중에 우리의 코드가 자체적으로 sql문을 고쳐주진 못하니, 이럴 때는 uncheck exception을 사용하고 `catch`를 하려고 시도조차 하면 안됩니다. 그저 예외를 발생시키고 종료하는 것이 최선이기 때문입니다. 만약 이곳에서 check exception을 사용하면 최상위 호출부까지 `throws`를 명시해주어야 해서, 모든 계층이 더러워집니다.
  - **이리내**: 지문인식에서 실패해서 세번 다시 시도하는 것과, 사다리 미션에서 잘못된 입력을 해서 세번 다시 시도하는 것은 차이가 무엇이길래 전자는 checked, 후자는 unchecked가 되는 것인가요? 저는 아직 차이를 잘 모르겠습니다... 

**하디**: 다들 checked / unchecked를 사용하는 상황이 잘 이해가 되나요? 저는 책에서 말한 복구할 수 있는 예외는 checked, 프로그래밍 문제는 unchecked라는 말이 막 와닫지는 않네요.
그렇다면 IOException과 SqlException이 checked인 이유는 무엇인가요? 다른 예외들이 unchecked로 분류된 이유는 무엇이라고 생각하시나요 ?

**이리내**: 저는 Mysql DB랑 커넥션을 연결할 때 SqlException 처리를 강제로 해야했던 경험이 있었는데요, `java.sql.Exception: No suitable driver found for jdbc:mysql://localhost:13306/TEST_DB` 이런 비슷한 문구들을 본 적이 있어요 근데 글쎄요 저는 이게 재시도로 복구 가능한 상황인지는 잘 모르겠네요, 구글링을 해보니 SqlException은 너무 포괄적인 예외이고, 실제로 복구 불가능한 상황도 많다는 둥 SqlException은 사라졌다는 둥, checked exception은 활용도가 떨어진다는 둥 하면서 checked exception이 발생하는 상황에는 이를 더 구체적인 unchecked exception으로 전환해서 던져준다고 하네요.(아이템73의 아이템 번역을 응용하는 느낌이 드네요) 덧붙이자면 코틀린은 아예 checked exception을 제공하지 않는다고합니다. checked exception은 구닥다리인 것이 아닐까요?

## 아이템71

**깃짱**: 검사 예외는 원래 잘 사용하지 않았었는데, 혹시 검사 예외 다들 쓰셨나요???

**민트**: 저는 검사 예외를 던지는 메서드를 스트림 안에서 사용함으로써 예외를 처리해야 했던 경험이 없습니다! 여러분들은 있으신가요? 자주 사용하는 메소드 중, 검사 예외를 던지는 메소드로는 어떤 것들이 있을까요?
  **테오**: 저는 지금까지 검사 예외를 본 적이 없는 것 같아요! catch를 강제해야 할 정도로 중요도가 큰 API를 아직 사용해보지 못해서 그런건가 싶기도 하네요..!
  
**하디**: `검사 예외를 회피하는 가장 쉬운 방법은 적절한 결과 타입을 담은 옵셔널을 반환하는 것이다.(394p)` checked exception대신 이렇게 옵셔널을 반환해야하는 경우가 무엇이 있을까요 ?


## 아이템72
**테오**: 직렬화를 이유로 커스텀 예외를 사용하지 말아야 한다고 주장하는데, 직렬화에서 어떤 문제가 발생할까요?

**깃짱**: 표준 예외를 사용하자와 커스텀 예외를 사용하자 파가 아주 크게 갈린다는데, 여러분은 어디 파인가요? 저는 표준에외 파에요!
  - **이리내**: 저도 있는거 잘쓰자..! 표준예외 ㅎㅎ..

**쥬니**: 
```java
List<String> targetList = List.of("aa","bb","cc","dd");
 
for(target : targetList){
  if("aa".equals(target){
    targetList.remove(target);
  }
}
```
위 상황에서 IndexOutOfBoundsException이 아닌 ConcurrentModificationException이 발생하는 이유는 무엇일까요 ?

**헙크**: fail-fast라는 개념은 무엇일까? Objects.requireNonNull은 NPE와 관련된 개념인데 언제 어떻게 사용하면 될까?

## 아이템73
**깃짱**: 상황에 맞는 표준 예외를 던진다면, 상위에서는 `RuntimeException`으로 catch하게 될까요? 상위에서 `Exception`으로 catch하게 된다면 어떤 예외도 다 처리할 수 있게 될텐데, 예상치 못한 예외까지 전부 퉁쳐서 해결하게 되어서 문제가 될 것 같아요. 이럴 경우에는 어떻게 해결할 수 있을까요?


**이리내**: 책에는 `가능하면 저수준의 메서드가 반드시 성공하도록 하여 아래 계층에서는 예외가 발생하지 않도록 하는 것이 최선이다. 때론 상위 계층 메서드의 매개변수 값을 아래 계층 메서드로 건네기 전에 미리 검사하는 방법으로 이 목적을 달성할 수 있다`라고 써있습니다. 다음 코드는 제 사다리타기 미션 중 `List<boolean> points`를 필드로 갖는 `Row` 클래스에 속한 메서드인데요, 저는 이 메서드에 `point` 값을 넘기기 전에 인덱스를 넘어가는 값은 넘기지 않도록 하였습니다. 반면, 아래의 메서드 안에서 인덱스 에러를 예외처리 해주는 것이 좋을 것 같다는 의견들도 있었는데요, 다들 어느 방법을 선호하시는 편인가요?
```
 public boolean isCurrentPointHasLine(int point) {
        return points.get(point);
    }
```

**민트**: 예외 연쇄를 3번 이상 쌓을 수 있을까요?

**테오**: 예외 연쇄를 사용하면 단점이 어떤 것이 있을까요? 지금 생각나는 건 `예외처리 비용이 비싸다` 정도네요!

**헙크**: 예외가 발생하면 stack trace를 터미널에서 볼 수 있는데, `catch`문을 작성하면 왜 발생하지 않을까? stack trace는 어디로 갔을까? stack trace란 무엇일까?
    
    
## 아이템74
**이리내**: 문서화라는게 무엇을 말하는 걸까요? 검색해보니 메소드 위에 `/* */` 주석안에 태그를 넣어놓는 예시가 많이 나오는데 이걸 문서화라 말하는 걸까요?

- **테오**: 주석 맞는 것 같아요! 요즘에는 여기서 말한 문서화처럼 주석을 사용해도 된다는 파의 주장이 점점 커지고 있다고 하더라구요. 다들 어떻게 생각하시나요?
